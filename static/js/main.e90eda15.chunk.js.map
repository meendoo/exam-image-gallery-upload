{"version":3,"sources":["modules/imageViewer.module.scss","modules/uploadZone.module.scss","App.module.scss","modules/gallery.module.scss","modules/image.module.scss","modules/modal.module.scss","modules/nav.module.scss","modules/button.module.scss","modules/button.js","modules/orderIcon.js","store/actions/actions.constants.js","services/firebase.js","store/actions/gallery.actions.js","store/actions/image.actions.js","store/actions/modal.actions.js","modules/nav.js","modules/image.js","modules/gallery.js","modules/photoIcon.js","modules/modal.js","modules/uploadZone.js","modules/rotateIcon.js","modules/deleteIcon.js","modules/imageViewer.js","App.js","serviceWorker.js","store/reducers/gallery.reducer.js","store/reducers/modal.reducer.js","store/reducers/image.reducer.js","store/reducers/index.js","store/index.js","index.js"],"names":["module","exports","previewDialog","imgWrapper","image","figure","figcaption","buttonWrapper","actionButtons","uploadWrapper","uploadBox","highLight","dashedText","title","header","headerInnerWrapper","appTitle","logo","gallery","placeholderText","zoom","imgDiv","modal","backdrop","close","actions","orderToggle","button","Button","props","react_default","a","createElement","Object","assign","role","className","concat","styles","children","OrderIcon","_ref","width","height","fill","viewBox","x","y","stroke","strokeWidth","fillRule","d","GALLERY","IS_EMPTY","IMAGES_REQUEST","IMAGES_SUCCESS","ORDERBY_NEWEST","ORDERBY_OLDEST","MODAL","OPEN_UPLOAD_ZONE","OPEN_IMAGE_VIEWER","CLOSE_MODAL","SEND_FILES","SEND_FILES_FAILED","UPLOAD_ERROR","IMAGE","VIEW_IMAGE","ROTATE_CLOCKWISE","ROTATE_COUNTER_CLOCKWISE","DELETE","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firestore","settings","timestampsInSnapshots","storage","imagesRequestSuccess","data","objectSpread","type","ToastCloseButton","closeToast","confirmAction","style","border","borderRadius","background","color","fontWeight","onClick","autoFocus","viewImage","imageRef","closeModal","Nav","handleOrder","_this","order","orderByOldest","orderByNewest","_this2","this","openUploadZoneModal","tabIndex","Component","connect","state","dispatch","Image","url","name","backgroundImage","Gallery","_Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","componentDidUpdate","prevProps","images","animateImages","play","toggleOrderByTimestamp","b","timestamp","seconds","imageAnimation","staggerFromTo","autoAlpha","componentDidMount","fetchImages","TimelineMax","inherits","createClass","key","value","kill","clear","imgs","length","sort","map","img","caption","id","openImageViewerModal","Fragment","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","showLoading","collection","onSnapshot","snapshot","fetchedData","forEach","doc","push","hideLoading","t0","toast","error","stop","_x","apply","arguments","photoIcon","xmlns","Modal","closeOnEsc","e","keyCode","isModalOpen","animateModalIn","window","addEventListener","TweenMax","from","_this$props","isVisible","ReactDOM","createPortal","document","body","UploadZone","onDragOver","stopPropagation","preventDefault","setState","isFileHovering","onDragLeave","onFileDrop","sendFiles","dataTransfer","files","onInputAddFiles","target","fromTo","ease","Power2","easeOut","position","isUploadZoneOpen","onDrop","htmlFor","onChange","accept","multiple","hidden","stagedFiles","storagePromises","_loop","i","toastId","fbStorage","ref","child","put","on","progress","bytesTransferred","totalBytes","update","err","console","log","done","getDownloadURL","then","imgURL","add","metadata","Date","orientation","catch","Promise","all","Rotate","right","transform","DeleteIcon","ImageViewer","isImageViewerOpen","src","alt","rotateCounterClockwise","deleteImage","rotateClockwise","file","_ref3","_callee3","confirmDelete","_context3","_callee2","_context2","CLOSE_VIEW","delete","closeButton","image_actions_ToastCloseButton","abrupt","IMAGE_DELETED","_x2","_ref2","imgDownloadURL","modifiedImage","getMetadata","sent","uuidv4","jimp","read","App","Power4","delay","build_default","zIndex","nav","uploadZone","imageViewer","lib","Boolean","location","hostname","match","initialState","rootReducer","combineReducers","undefined","action","isFetching","toConsumableArray","loadingBar","loadingBarReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleWares","thunk","loadingBarMiddleware","store","createStore","applyMiddleware","render","es","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e90eda15.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"previewDialog\":\"imageViewer_previewDialog__w43Yu\",\"imgWrapper\":\"imageViewer_imgWrapper__2xnRn\",\"image\":\"imageViewer_image__26BQt\",\"figure\":\"imageViewer_figure__24Ip0\",\"figcaption\":\"imageViewer_figcaption__3oNUz\",\"buttonWrapper\":\"imageViewer_buttonWrapper__YxvUP\",\"actionButtons\":\"imageViewer_actionButtons__2RStu\",\"uploadWrapper\":\"imageViewer_uploadWrapper__gdmgC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"uploadBox\":\"uploadZone_uploadBox__1rSZp\",\"highLight\":\"uploadZone_highLight__34dhQ\",\"dashedText\":\"uploadZone_dashedText__3N4LN\",\"title\":\"uploadZone_title__D3l4d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"App_header__2I8ER\",\"headerInnerWrapper\":\"App_headerInnerWrapper__2rmKp\",\"appTitle\":\"App_appTitle__10UQy\",\"logo\":\"App_logo__2q6mI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"gallery_gallery__-pwbH\",\"image\":\"gallery_image__oEx8o\",\"placeholderText\":\"gallery_placeholderText__3VQxP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"figure\":\"image_figure__21xPc\",\"zoom\":\"image_zoom__HfTl5\",\"imgDiv\":\"image_imgDiv__QdQEZ\",\"image\":\"image_image__3-lQK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1X6JC\",\"backdrop\":\"modal_backdrop__3olPK\",\"close\":\"modal_close__CyXT0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actions\":\"nav_actions__168Sd\",\"orderToggle\":\"nav_orderToggle__2780n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__1kU_L\"};","import React from 'react'\nimport styles from './button.module.scss'\n\nexport default function Button(props) {\n  return (\n    <div role=\"button\" className={`${styles.button} ${props.className}`} {...props}>{props.children}</div>\n  )\n}\n","// SVG made by Landan Lloyd - https://thenounproject.com/search/?q=order&i=1319406\n\nimport React from 'react'\n\nexport default function OrderIcon({width, height, fill}) {\n  return (\n    <svg height={height || \"115px\"} width={width || \"115px\"} viewBox=\"0 0 115 115\" x=\"0px\" y=\"0px\">\n        <title>Arrow 30.1</title>\n        <desc>Created with Sketch.</desc>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g fillRule=\"nonzero\" fill={fill || \"currentColor\"}>\n                <path d=\"M103.9,71.9L103.9,71.9v12.7l-29.9,30l-29.9-30V71.9l25.4,25.5V55.7h9v41.6L103.9,71.9z M11.1,43.1L11.1,43.1V30.4L41,0.4l29.9,30v12.7L45.5,17.6v41.6h-9V17.6L11.1,43.1z\"/>\n            </g>\n        </g>\n    </svg>\n  )\n}\n","export const GALLERY = {\n    IS_EMPTY: '@GALLERY_IS_EMPTY',\n    IMAGES_REQUEST: '@GALLERY_IMAGES_REQUEST',\n    IMAGES_SUCCESS: '@GALLERY_IMAGES_SUCCESS',\n    ORDERBY_NEWEST: '@GALLERY_ORDERBY_NEWEST',\n    ORDERBY_OLDEST: '@GALLERY_ORDERBY_OLDEST'\n}\n\nexport const MODAL = {\n    OPEN_UPLOAD_ZONE: '@MODAL_OPEN_UPLOAD_ZONE',\n    OPEN_IMAGE_VIEWER: '@MODAL_OPEN_IMAGE_VIEWER',\n    CLOSE_MODAL: '@MODAL_CLOSE_MODAL',\n    SEND_FILES: '@MODAL_SEND_FILES',\n    SEND_FILES_FAILED: '@MODAL_SEND_FILES_FAILED',\n    UPLOAD_ERROR: '@MODAL_UPLOAD_ERROR'\n}\n\nexport const IMAGE = {\n    VIEW_IMAGE: '@IMAGE_VIEW_IMAGE',\n    ROTATE_CLOCKWISE: '@IMAGE_ROTATE_CLOCKWISE',\n    ROTATE_COUNTER_CLOCKWISE: '@IMAGE_ROTATE_CLOCKWISE',\n    DELETE: '@IMAGE_DELETE'\n}","import firebase from 'firebase/app';\nimport 'firebase/firestore'\n// import 'firebase/database'\nimport 'firebase/storage'\n\nvar config = {\n  apiKey: \"AIzaSyDzyK4Mflvtdyn84SGPSu2Udq1zkV_iOJI\",\n  authDomain: \"exam-image-gallery.firebaseapp.com\",\n  databaseURL: \"https://exam-image-gallery.firebaseio.com\",\n  projectId: \"exam-image-gallery\",\n  storageBucket: \"exam-image-gallery.appspot.com\",\n  messagingSenderId: \"968438638429\"\n};\nfirebase.initializeApp(config);\nfirebase.firestore().settings({ timestampsInSnapshots: true});\n\nexport default firebase;\nexport const firestore = firebase.firestore();\n// export const database = firebase.database();\nexport const storage = firebase.storage();","import { GALLERY } from './actions.constants'\nimport { firestore } from '../../services/firebase';\nimport { showLoading, hideLoading } from 'react-redux-loading-bar'\nimport { toast } from 'react-toastify';\n\nexport const fetchImages = () => {\n    return async dispatch => {\n        dispatch({ type: GALLERY.IMAGES_REQUEST });\n        dispatch(showLoading());\n        try {\n            await firestore.collection('images')\n                .onSnapshot(snapshot => {\n                    let fetchedData = {\n                        images: []\n                    }\n\n                    snapshot.forEach(doc => {\n                        fetchedData.images.push({\n                            id: doc.id,\n                            ...doc.data(),\n                        });\n                    });\n                    \n                    dispatch(imagesRequestSuccess(fetchedData))\n                    dispatch(hideLoading());\n                });\n        } catch (error) {\n            toast.error(error);\n        }\n        \n            \n    }\n};\n\nexport const imagesRequestSuccess = (data) => {\n    return { type: GALLERY.IMAGES_SUCCESS, ...data }\n}\n\nexport const orderByNewest = () => {\n    return { type: GALLERY.ORDERBY_NEWEST }\n};\n\nexport const orderByOldest = () => {\n    return { type: GALLERY.ORDERBY_OLDEST }\n};","import React from 'react'\nimport { IMAGE } from './actions.constants'\nimport { closeModal } from './modal.actions'\nimport { firestore, storage } from '../../services/firebase';\nimport { toast } from \"react-toastify\";\nimport jimp from 'jimp';\nimport uuidv4 from 'uuid/v4';\n\n\nexport const ToastCloseButton = ({ closeToast, confirmAction }) => {\n    return (\n        <button style={{width: '48px', height: '48px', border: 'none', borderRadius: '0', background: \"#b71d1d\", color: \"white\", fontWeight: 'bold'}} onClick={confirmAction} autoFocus>YES</button>\n    )\n}\n\nexport const viewImage = (imageRef) => {\n    return { type: IMAGE.VIEW_IMAGE, imageRef}\n}\n\nexport const closeView = () => dispatch => {\n    dispatch(closeModal());\n    return { type: IMAGE.CLOSE_VIEW }\n}\n\nexport const rotateClockwise = (imageRef) => async dispatch => {\n    let imgDownloadURL = await storage.ref().child(`images/${imageRef.name}`).getMetadata();\n    console.log(imgDownloadURL);\n    console.log(uuidv4());\n    const modifiedImage = await jimp.read(imgDownloadURL);\n    console.log(modifiedImage);\n    \n    \n    \n    // await modifiedImage.rotate(90);\n    // console.log(modifiedImage);\n    // await storage.ref().child(`images/${imageRef.name}`).put(modifiedImage);\n    return { type: IMAGE.ROTATE_CLOCKWISE }\n}\n\nexport const rotateCounterClockwise = (imageRef) => {\n    return { type: IMAGE.ROTATE_COUNTER_CLOCKWISE, imageRef}\n}\n\nexport const deleteImage = (imageRef) => async dispatch => {\n    toast.error(\"Remove photo from album?\", {\n        closeButton: <ToastCloseButton confirmAction={confirmDelete}/>\n    });\n    function confirmDelete() {\n        (async () => {\n            dispatch(closeView());\n            await storage.ref().child(`images/${imageRef.name}`).delete();\n            await firestore.collection('images').doc(imageRef.id).delete();\n        })();\n    } \n    \n    return { type: IMAGE.IMAGE_DELETED }\n}","import { MODAL } from './actions.constants'\nimport { storage, firestore } from '../../services/firebase';\nimport { toast } from \"react-toastify\";\nimport { viewImage } from './image.actions'\n\nexport const openUploadZoneModal = () => {\n    return { type: MODAL.OPEN_UPLOAD_ZONE };\n}\n\nexport function openImageViewerModal (imageRef) { \n    return function(dispatch) {\n        dispatch({ type: MODAL.OPEN_IMAGE_VIEWER });\n        dispatch(viewImage(imageRef));\n    }\n}\n\nexport const closeModal = () => {\n    return { type: MODAL.CLOSE_MODAL };\n}\n\n// export function sendFiles(files) {\n//     return async function(dispatch) {\n//         for (let i = 0; i < files.length; i++) {\n//             let fbStorage = await storage.ref().child(`images/${files[i].name}`).put(files[i]);\n//             let downloadUrl = await fbStorage.task.snapshot.ref.getDownloadURL();\n//             dispatch(closeModal());\n//             firestore.collection('images').add({\n//                 \"url\": downloadUrl,\n//                 \"name\": fbStorage.task.snapshot.metadata.name,\n//                 \"timestamp\": new Date(),\n//                 \"orientation\": 0\n//             })\n//         };\n//     };\n// }\n\nexport function sendFiles(files) {\n    return function(dispatch) {\n        let storagePromises = [];\n        for (let i = 0; i < files.length; i++) {\n            let toastId = null;\n            let fbStorage = storage.ref().child(`images/${files[i].name}`).put(files[i]);\n            storagePromises.push(fbStorage);\n            fbStorage.on('state_changed',\n                snapshot => {\n                    let progress = (snapshot.bytesTransferred / snapshot.totalBytes);                    \n                    if(toastId === null){\n                        toastId = toast('Upload in Progress', {progress: progress});\n                    } else {\n                      toast.update(toastId, {progress: progress});\n                    }\n                },\n                err => {\n                    console.log(err);\n                    toast.error(err, {toastId: toastId});\n                },\n                () => {\n                    toast.done(toastId);\n                    fbStorage.snapshot.ref.getDownloadURL()\n                        .then(imgURL => {\n                            firestore.collection('images').add({\n                                \"url\": imgURL,\n                                \"name\": fbStorage.snapshot.metadata.name,\n                                \"timestamp\": new Date(),\n                                \"orientation\": 0\n                            })\n                        }).catch(err => toast.error(err));\n                }\n            );\n        };\n        Promise.all(storagePromises).then(()=> {\n            dispatch(closeModal());\n        }).catch(err => toast.error(err));\n    };\n}","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport Button from './button';\nimport OrderIcon from './orderIcon';\nimport styles from './nav.module.scss';\nimport { orderByNewest, orderByOldest } from \"../store/actions/gallery.actions\";\nimport { openUploadZoneModal } from \"../store/actions/modal.actions\";\n\nclass Nav extends Component {\n    handleOrder = () => {\n        this.props.order === \"Newest\" ? this.props.orderByOldest() : this.props.orderByNewest(); \n    }\n\n    render() {\n        const { order } = this.props;\n        return (\n            <div>\n                <ul className={styles.actions}>\n                    <li><Button onClick={()=>this.props.openUploadZoneModal()} tabIndex=\"0\">Add Media</Button></li>\n                    <li className={styles.orderToggle} onClick={this.handleOrder}>\n                        <OrderIcon width=\"16px\" height=\"16px\"/> <span>{order}</span>\n                    </li>\n                </ul>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    order: state.gallery.order\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    openUploadZoneModal: () => dispatch(openUploadZoneModal()),\n    orderByNewest: () => dispatch(orderByNewest()),\n    orderByOldest: () => dispatch(orderByOldest())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Nav);","import React from 'react'\nimport styles from './image.module.scss'\n\nexport default function Image({className, url, name, onClick}) {\n  return (\n    <figure className={`${styles.figure} ${className}`} onClick={onClick}>\n      {/* <img className={`${styles.image}`} src={url} alt={name}/> */}\n      <div style={{backgroundImage: `url('${url}')`}} className={`${styles.imgDiv} ${className}`}/>\n      <figcaption className={styles.figcaption}>{name}</figcaption>\n    </figure>\n  )\n}\n\n\n// export default function Image({className, url, caption}) {\n//   return (\n//       // <img className={`${styles.image}`} src={url} alt={caption}/>\n//       <div style={{backgroundImage: `url('${url}')`}} className={`${styles.imgDiv} ${className}`}/>\n//   )\n// }\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Image from './image';\nimport styles from './gallery.module.scss';\nimport { TimelineMax } from 'gsap';\nimport { fetchImages } from \"../store/actions/gallery.actions\";\nimport { openImageViewerModal } from \"../store/actions/modal.actions\";\n\nexport class Gallery extends Component {\n    constructor(props){\n        super(props);\n        this.imageAnimation = new TimelineMax();\n    }\n\n    componentDidUpdate = (prevProps) => {\n        if (prevProps.images !== this.props.images || prevProps.order !== this.props.order) {\n            this.animateImages().play();\n        }\n    }\n\n    toggleOrderByTimestamp = (a, b) => {\n        if (this.props.order === 'Newest') {\n            return b.timestamp.seconds - a.timestamp.seconds;\n        }\n        if (this.props.order === \"Oldest\") {\n            return a.timestamp.seconds - b.timestamp.seconds\n        }\n        return 0;\n    }\n\n    animateImages = () => {\n        return this.imageAnimation.staggerFromTo(`.${styles.image}`, 0.2, {autoAlpha: 0}, {autoAlpha: 1}, 0.05);\n    }\n\n    componentDidMount = () => {\n        this.props.fetchImages();\n    }\n    \n\n    render() {\n        this.imageAnimation.kill().clear();\n        const { images } = this.props;\n        const imgs = images && images.length > 0 && images\n            .sort((a, b) => this.toggleOrderByTimestamp(a,b))\n            .map(img => <Image className={styles.image} url={img.url} caption={img.name} key={img.id} onClick={()=>this.props.openImageViewerModal(img)} /> );\n\n        return (\n            <>\n                {images && images.length > 0 ?\n                    <div className={styles.gallery}>\n                        {imgs}\n                    </div>\n                    : <div className={styles.placeholderText}>You haven't uploaded images yet :(</div>\n                }\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    images: state.gallery.images,\n    order: state.gallery.order\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    fetchImages: () => dispatch(fetchImages()),\n    openImageViewerModal: (imageRef) => dispatch(openImageViewerModal(imageRef))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Gallery);\n","// SVG by Google Inc. - https://commons.wikimedia.org/wiki/File:Ic_photo_48px.svg\n\nimport React from 'react'\n\nexport default function photoIcon({width, height, fill, className}) {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height={height || \"48px\"} width={width || \"48px\"} viewBox=\"0 0 48 48\" fill={fill || \"currentColor\"} className={className || \"\"}>\n        <path d=\"M0 0h48v48h-48z\" fill=\"none\"/>\n        <path d=\"M42 38v-28c0-2.21-1.79-4-4-4h-28c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4zm-25-11l5 6.01 7-9.01 9 12h-28l7-9z\"/>\n    </svg>\n  )\n}\n","import React, { Component } from 'react'\nimport ReactDOM from \"react-dom\";\nimport { connect } from 'react-redux'\nimport styles from \"./modal.module.scss\";\nimport { TweenMax } from 'gsap'\nimport { closeModal } from '../store/actions';\n\nclass Modal extends Component {\n\n    animateModalIn() {\n        if (this.props.isModalOpen) {\n            TweenMax.from(\"#modal\", 0.3, {autoAlpha: 0});\n        }\n    }\n\n    closeOnEsc = (e) => {\n        e.keyCode === 27 && this.props.closeModal();\n    }\n\n    componentDidUpdate = (prevProps) => {\n        if (prevProps.isModalOpen === false && this.props.isModalOpen === true) {\n            this.animateModalIn();\n        }\n    }\n\n    componentDidMount = () => {\n        window.addEventListener('keydown', (e)=>this.closeOnEsc(e));\n    }\n    \n    render() {\n        const {children, isVisible} = this.props;\n\n        return isVisible && \n            ReactDOM.createPortal(\n                <>\n                    <div id=\"modal\" className={styles.modal}>\n                        {children}\n                    </div>\n                    <div className={styles.close} onClick={()=>this.props.closeModal()}>&times;</div>\n                    <div className={styles.backdrop}></div>\n                </>,\n                document.body\n            );\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    closeModal: () => dispatch(closeModal())\n})\n\nexport default connect(null, mapDispatchToProps)(Modal);","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './uploadZone.module.scss'\nimport Button from \"./button\"\nimport { sendFiles } from '../store/actions/modal.actions'\nimport Modal from './modal'\nimport { TweenMax, Power2 } from 'gsap'\n\nexport class UploadZone extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isFileHovering: false\n        }\n    }\n\n    onDragOver = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        this.setState({isFileHovering: true})\n    }\n\n    onDragLeave = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        this.setState({isFileHovering: false});\n    }\n\n    onFileDrop = (e) => {\n        e.preventDefault();\n        this.setState({isFileHovering: false});\n        this.props.sendFiles(e.dataTransfer.files);\n    }\n\n    onInputAddFiles = (e) => {\n        this.props.sendFiles(e.target.files);\n    }\n\n    componentDidMount = () => {\n        TweenMax.fromTo(`.${styles.uploadBox}`, 0.3, {y: 30, ease: Power2.easeOut}, {y: 0, position: 'relative'});\n    }\n    \n\n    render() {\n        const {isUploadZoneOpen} = this.props;\n        return (\n            <Modal isVisible={isUploadZoneOpen}>\n                <div\n                    className={`${styles.uploadBox} ${this.state.isFileHovering && styles.highLight}`}\n                    onDragOver={this.onDragOver}\n                    onDragLeave={this.onDragLeave}\n                    onDrop={this.onFileDrop}\n                >\n                    <h1 className={styles.title}>Drop images here</h1>\n                    <h2 className={styles.dashedText}>&ndash; or &ndash;</h2>\n                    <label htmlFor=\"imageInput\" className={styles.button}>\n                        <Button tabIndex=\"0\">Select files</Button>\n                        <input onChange={this.onInputAddFiles} type=\"file\" id=\"imageInput\" accept=\"image/png, image/jpeg\" multiple hidden></input>\n                    </label>\n                </div>\n            </Modal>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isUploadZoneOpen: state.modal.isUploadZoneOpen\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    sendFiles: (stagedFiles) => dispatch(sendFiles(stagedFiles)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadZone);\n","// SVG made by Xinh Studio - https://thenounproject.com/search/?q=rotate&i=217348\n\nimport React from 'react'\n\nexport default function Rotate({width, height, fill, className, right, onClick}) {\n  return (\n    <svg height={height || \"40px\"} width={width || \"40px\"} className={className || ''} viewBox=\"0 0 22 22\" x=\"0px\" y=\"0px\" onClick={onClick}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" transform={right && \"scale(-1, 1) translate(-22, 0)\"}>\n            <g transform=\"translate(-66.000000, -241.000000)\" fill={fill || \"#000000\"}>\n                <path d=\"M80.3117466,244.018853 C83.8230291,244.190999 84.8848714,245.549958 84.9891498,248.421411 C84.999988,248.719856 85.0021973,248.961822 85.0021973,249.5 L85.0021973,250 L86.0021973,250 L86.0021973,249.5 C86.0021973,248.949758 85.9999138,248.699659 85.988491,248.385119 C85.8654297,244.99645 84.4118231,243.209164 80.2755879,243.017305 L81.2071068,242.085786 L80.5,241.37868 L78.3786797,243.5 L80.5,245.62132 L81.2071068,244.914214 L80.3117466,244.018853 Z M68,247 L82,247 L82,261 L68,261 L68,247 Z M69,248 L81,248 L81,260 L69,260 L69,248 Z\"/>\n            </g>\n        </g>\n    </svg>\n  )\n}","// SVG made by Dinosoft Labs, PK  - https://thenounproject.com/search/?q=delete&i=1606789\n\nimport React from 'react'\n\nexport default function DeleteIcon({width, height, fill, className, onClick}) {\n  return (\n    <svg height={height || \"40px\"} width={width || \"40px\"} fill={fill || \"#000000\"} className={className || ''} x=\"0px\" y=\"0px\" viewBox=\"0 0 70 70\" onClick={onClick}>\n        <g>\n            <path d=\"M47.3723145,60H22.6281738c-1.2568359,0-2.3232422-0.9814453-2.4277344-2.2338867l-3.0844727-37.0151367c-0.0229492-0.2788086,0.0712891-0.5541992,0.2607422-0.7602539c0.1894531-0.2055664,0.4560547-0.3227539,0.7358398-0.3227539h33.7753906c0.2797852,0,0.5463867,0.1171875,0.7358398,0.3227539c0.1894531,0.2060547,0.2836914,0.4814453,0.2607422,0.7602539l-3.0849609,37.0151367C49.6950684,59.0185547,48.6291504,60,47.3723145,60z M19.1994629,21.6679688l2.9941406,35.9321289C22.2121582,57.8242188,22.4030762,58,22.6281738,58h24.7441406c0.2285156,0,0.4150391-0.171875,0.434082-0.3999023l2.9946289-35.9321289H19.1994629z\" />\n            <path d=\"M42.1057129,53.5039063c-0.0136719,0-0.0273438-0.0004883-0.0410156-0.0009766c-0.5517578-0.0219727-0.980957-0.487793-0.9584961-1.0395508l0.9648438-23.8291016c0.0219727-0.5517578,0.4931641-0.9853516,1.0395508-0.9584961c0.5517578,0.0219727,0.980957,0.487793,0.9584961,1.0395508L43.104248,52.5444336C43.0827637,53.0825195,42.6394043,53.5039063,42.1057129,53.5039063z\" />\n            <path d=\"M35.0002441,53.5039063c-0.5522461,0-1-0.4477539-1-1V28.6748047c0-0.5522461,0.4477539-1,1-1s1,0.4477539,1,1v23.8291016C36.0002441,53.0561523,35.5524902,53.5039063,35.0002441,53.5039063z\" />\n            <path d=\"M27.8942871,53.5039063c-0.5336914,0-0.9770508-0.4213867-0.9985352-0.9594727L25.9309082,28.715332c-0.0224609-0.5517578,0.4067383-1.0175781,0.9584961-1.0395508c0.5400391-0.0307617,1.0170898,0.40625,1.0395508,0.9584961l0.9648438,23.8291016c0.0224609,0.5517578-0.4067383,1.0175781-0.9584961,1.0395508C27.9216309,53.503418,27.907959,53.5039063,27.8942871,53.5039063z\" />\n            <path d=\"M53.6633301,21.6679688H16.3366699c-0.5522461,0-1-0.4477539-1-1v-1.625c0-1.8808594,1.5297852-3.4106445,3.4106445-3.4106445h32.5058594c1.8803711,0,3.4101563,1.5297852,3.4101563,3.4106445v1.625C54.6633301,21.2202148,54.2155762,21.6679688,53.6633301,21.6679688z M17.3366699,19.6679688h35.3266602v-0.625c0-0.777832-0.6328125-1.4106445-1.4101563-1.4106445H18.7473145c-0.777832,0-1.4106445,0.6328125-1.4106445,1.4106445V19.6679688z\" />\n            <path d=\"M40.5388184,17.6323242H29.4616699c-0.5522461,0-1-0.4477539-1-1v-3.5908203C28.4616699,11.3642578,29.8259277,10,31.5031738,10h6.9936523c1.6772461,0,3.0419922,1.3642578,3.0419922,3.0415039v3.5908203C41.5388184,17.1845703,41.0910645,17.6323242,40.5388184,17.6323242z M30.4616699,15.6323242h9.0771484v-2.5908203C39.5388184,12.4672852,39.0715332,12,38.4968262,12h-6.9936523c-0.5742188,0-1.0415039,0.4672852-1.0415039,1.0415039V15.6323242z\" />\n        </g>\n    </svg>\n  )\n}","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { deleteImage, rotateClockwise, rotateCounterClockwise } from '../store/actions/image.actions'\nimport styles from './imageViewer.module.scss'\nimport Modal from './modal'\nimport RotateIcon from './rotateIcon'\nimport DeleteIcon from './deleteIcon'\n\nclass ImageViewer extends Component {\n\n\trender() {\n\t\tconst { isImageViewerOpen, imageRef } = this.props;\n\t\treturn (\n\t\t\t<Modal isVisible={isImageViewerOpen}>\n\t\t\t\t<div className={styles.previewDialog}>\n\n\t\t\t\t\t{imageRef && imageRef.map( (img) => \n\t\t\t\t\t\t<div className={styles.imgWrapper} key={img.name}>\n\t\t\t\t\t\t\t<figure className={styles.figure}>\n\t\t\t\t\t\t\t\t<img className={styles.image} src={img.url} alt={img.name}/>\n\t\t\t\t\t\t\t\t{/* <figcaption className={styles.figcaption}>{img.name}</figcaption> */}\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t<div className={styles.buttonWrapper}>\n\t\t\t\t\t\t\t\t<RotateIcon\n\t\t\t\t\t\t\t\t\ttitle=\"Rotate -90ยบ (Counter-Clockwise)\"\n\t\t\t\t\t\t\t\t\tclassName={styles.actionButtons}\n\t\t\t\t\t\t\t\t\tonClick={()=>this.props.rotateCounterClockwise(img)} /> \n\t\t\t\t\t\t\t\t<DeleteIcon\n\t\t\t\t\t\t\t\t\ttitle=\"Delete Image\"\n\t\t\t\t\t\t\t\t\tclassName={styles.actionButtons}\n\t\t\t\t\t\t\t\t\tonClick={()=>this.props.deleteImage(img)}/>\n\t\t\t\t\t\t\t\t<RotateIcon\n\t\t\t\t\t\t\t\t\ttitle=\"Rotate +90ยบ (Clockwise)\"\n\t\t\t\t\t\t\t\t\tclassName={styles.actionButtons}\n\t\t\t\t\t\t\t\t\tonClick={()=>this.props.rotateClockwise(img)}\n\t\t\t\t\t\t\t\t\tright/> \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n  isImageViewerOpen: state.modal.isImageViewerOpen,\n  imageRef: state.image.imageRef\n})\n\nconst mapDispatchToProps = dispatch => ({\n  deleteImage: (file) => dispatch(deleteImage(file)),\n  rotateClockwise: (file) => dispatch(rotateClockwise(file)),\n  rotateCounterClockwise: (file) => dispatch(rotateCounterClockwise(file))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageViewer);","import React, { Component } from 'react';\nimport styles from './App.module.scss';\nimport Nav from './modules/nav'\nimport Gallery from './modules/gallery'\nimport PhotoIcon from \"./modules/photoIcon\";\nimport LoadingBar from 'react-redux-loading-bar'\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport UploadZone from './modules/uploadZone';\nimport ImageViewer from './modules/imageViewer';\nimport { connect } from 'react-redux';\nimport { TweenMax, Power4 } from 'gsap';\n\nclass App extends Component {\n\n\tcomponentDidMount = () => {\n\t  TweenMax.from(`.${styles.header}`, 1, {height: '100vh', ease: Power4.ease}).delay(0.8);\n\t}\n\t\n\n\trender() {\n\t\tconst {isUploadZoneOpen, isImageViewerOpen} = this.props;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<LoadingBar style={{zIndex: 100}}/>\n\t\t\t\t<header className={styles.header}>\n\t\t\t\t\t<div className={styles.headerInnerWrapper}>\n\t\t\t\t\t\t<PhotoIcon className={styles.logo} fill=\"#2c5ed2\"/>\n\t\t\t\t\t\t<h1 className={styles.appTitle}>PhotoWall App</h1>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<main>\n\t\t\t\t\t<Nav />\n\t\t\t\t\t<Gallery />\n\t\t\t\t</main>\n\n\t\t\t\t{isUploadZoneOpen && <UploadZone/>}\n\t\t\t\t{isImageViewerOpen && <ImageViewer/>}\n\n\t\t\t\t<ToastContainer position=\"bottom-left\" />\n\t\t\t</>\n\t\t);\n\t}\n}\n\n\nconst mapStateToProps = (state) => ({\n\tisUploadZoneOpen: state.modal.isUploadZoneOpen,\n\tisImageViewerOpen: state.modal.isImageViewerOpen\n});\n\nexport default connect(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { GALLERY } from \"../actions/actions.constants\";\n\nconst initialState = {\n  order: \"Newest\"\n}\n\nexport function gallery(state = initialState, action) {\n    switch (action.type) {\n      case GALLERY.IMAGES_REQUEST:\n        return {\n          ...state,\n          isFetching: true,\n        }\n      case GALLERY.IMAGES_SUCCESS:\n        return {\n          ...state,\n          isFetching: false,\n          images: [\n            ...action.images\n          ]\n        }\n      case GALLERY.ORDERBY_NEWEST:\n        return {\n          ...state,\n          order: 'Newest'\n        }\n      case GALLERY.ORDERBY_OLDEST:\n        return {\n          ...state,\n          order: 'Oldest'\n        }\n      default:\n        return state\n  }\n}","import { MODAL } from \"../actions/actions.constants\";\n// import sharp from 'sharp'\n\nconst initialState = {\n    \"isUploadZoneOpen\": false,\n    \"isImageViewerOpen\": false\n};\n\nexport function modal(state = initialState, action) {\n    switch (action.type) {\n      case MODAL.OPEN_UPLOAD_ZONE:\n        return {\n          ...state,\n          isUploadZoneOpen: true\n        }\n\n      case MODAL.OPEN_IMAGE_VIEWER:\n        return {\n          ...state,\n          isImageViewerOpen: true\n        }\n\n      case MODAL.CLOSE_MODAL:\n        return {\n          ...state,\n          isImageViewerOpen: false,\n          isUploadZoneOpen: false\n        }\n\n      case MODAL.ROTATE_COUNTER_CLOCKWISE:\n        return {\n          ...state,\n          stagedFiles: [\n            ...state.stagedFiles\n          ]\n        }\n\n      default:\n        return state\n  }\n}","import { IMAGE } from \"../actions/actions.constants\";\n// import sharp from 'sharp'\n\nconst initialState = {\n    \"imageRef\": {}\n};\n\nexport function image(state = initialState, action) {\n    switch (action.type) {\n        case IMAGE.VIEW_IMAGE: {\n            return {\n                ...state,\n                imageRef: [action.imageRef]\n            }\n        }\n        case IMAGE.CLOSE_VIEW: {\n            return {\n                ...state,\n                imageRef: []\n            }\n        }\n      default:\n        return state\n  }\n}","import { combineReducers } from \"redux\";\nimport { gallery } from './gallery.reducer'\nimport { modal } from './modal.reducer';\nimport { image } from './image.reducer';\nimport { loadingBarReducer } from 'react-redux-loading-bar';\n\n\nconst rootReducer = combineReducers({\n    gallery,\n    modal,\n    image,\n    loadingBar: loadingBarReducer\n})\n  \nexport default rootReducer;","import { createStore, applyMiddleware, compose } from 'redux';\nimport rootReducer from './reducers';\nimport thunk from 'redux-thunk';\nimport { loadingBarMiddleware } from 'react-redux-loading-bar'\n\nconst composeEnhancers = \n    typeof window === 'object' && (\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n        ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n        : compose\n    );\n\nconst middleWares = [thunk, loadingBarMiddleware()];\n\nexport const store = createStore(\n    rootReducer,\n    composeEnhancers(\n        applyMiddleware(...middleWares)\n    )\n);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>\n    , document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}